# TODO

## Быстрые

- Статусы и локализация: перенести текст меток из `src/constants/taskStatus.js` в `src/i18n` и привести кодировку к UTF-8.
- Логи в прод: в `vite.config.js` добавить `esbuild: { drop: ['console','debugger'] }` и отключать sourcemap в проде, включая его только для стейджинга.
- Сжатие ассетов: в `vite.config.js` для `vite-plugin-compression` выставить `threshold` (8–10 kB) и оставить один алгоритм по умолчанию + второй условно.
- Анализ бандла: добавить `rollup-plugin-visualizer` и периодически проверять крупные чанки (`react-vendor`, `supabase`) на лишние зависимости.
- Иконки: убедиться, что из `lucide-react` импортируются только используемые иконки.
- Preconnect: добавить `<link rel="preconnect">` к домену Supabase в `index.html`.
- Tailwind: оставить минимальный `safelist`, убедиться, что `content` покрывает все шаблоны; пересмотреть кастомные цвета/переменные на предмет дублей.
- Изображения: в `vite-plugin-imagemin` ограничить агрессивные пресеты и включить кеширование, чтобы не замедлять локальную сборку.

## Средние

- Единый раннер тестов: выбрать Vitest или Jest, мигрировать на Vitest и удалить конфиг и зависимости Jest.
- Стаблы API: добавить `msw` для моков сетевых вызовов.
- Покрытие: включить coverage отчёты и пороги; покрыть юниты на `src/hooks/useTasks.js` и ключевые компоненты.
- E2E флоу: написать сценарии в Cypress для auth и CRUD задач, прогонять в CI.
- Code splitting: лениво грузить тяжёлые страницы/виджеты и прелоадить «горячие» маршруты.
- Валидация форм: заменить локальный стейт форм на `react-hook-form` + `zodResolver` в `src/components/TasksTab.jsx`.
- Типы: начать с `// @ts-check` + JSDoc поверх существующего JS, затем мигрировать на TypeScript.
- Импорты: добавить `eslint-plugin-import` (порядок импортов, запрет циклических зависимостей, алиасы `@/*`).
- Проптайпы: либо убрать, перейдя на TS, либо довести до единообразия (проверка обязательности и форм).
- Константы: сделать единый источник правды для статусов/полей (экспорт enum/union), отображаемые подписи — через i18n.

## Крупные

- Валидация и ошибки: единый паттерн отображения ошибок форм, подсказки и `aria`-атрибуты.
- Модальные окна: проверить фокус-ловушку и возврат фокуса.
- Виртуализация списков: использовать `react-window` для длинных списков задач.
- A11y-тесты: подключить `jest-axe` или `cypress-axe` и прогонять базовые правила в CI.
- Проверка env: добавить модуль `src/env.(ts|js)` с валидацией через `zod` и явным фейлом при отсутствии критичных переменных.
- Supabase: удостовериться, что используется только `anon-key` на клиенте, включён RLS и политики ограничивают доступ по `object_id`.
- CSP и заголовки: при деплое добавить строгую CSP, `X-Frame-Options`, `Referrer-Policy`, `Permissions-Policy`.
- CI/CD: настроить GitHub Actions workflow (install → lint → test → build → e2e), кэширование npm и параллельные джобы.
- Превью-деплой: настроить автопревью PR (Vercel/Netlify) или GitHub Pages для статики.
- Коммиты и релизы: добавить `commitlint`, Conventional Commits и `changesets` для версионирования.
- Ошибки: интегрировать Sentry (или аналог) с `ErrorBoundary` для отчётности о падениях.
- Виталии: собирать `web-vitals` (CLS/LCP/FID) и отправлять отчёт в консоль или аналитику.
- Логи: создать адаптер в `src/utils/logger.ts` для отправки ошибок на бэкенд в проде.
- README: добавить чёткие шаги запуска, переменные окружения, тесты, деплой.
- API: публиковать документацию из `openapi.yaml` (скрипт в `package.json`) и размещать артефакт в `docs/`.
- CONTRIBUTING: написать гид по код-стайлу, ветвлению и локальному прогону тестов.
- Docker: подготовить `Dockerfile` для прод-сборки и `docker-compose` для локальной разработки.
- Конфигурация base-path: параметризовать `base` в `vite.config.js` через ENV при необходимости деплоя в подкаталог.
